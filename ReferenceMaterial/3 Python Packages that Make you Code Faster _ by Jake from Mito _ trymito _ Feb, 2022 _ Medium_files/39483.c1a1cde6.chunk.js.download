(self.webpackChunklite=self.webpackChunklite||[]).push([[39483,90478,58916,48635,63163],{86773:(e,t,n)=>{"use strict";n.d(t,{VC:()=>h,GT:()=>E});var r=n(28655),o=n.n(r),l=n(71439),i=n(67294),a=n(43220),c=n(4381),s=n(77355),u=n(14199),m=n(14646),d=n(97217),p=n(46696);function f(){var e=o()(["\n  fragment CollectionLogo_image on ImageMetadata {\n    id\n    originalHeight\n    originalWidth\n  }\n"]);return f=function(){return e},e}function g(){var e=o()(["\n  fragment CollectionLogo_collection on Collection {\n    ...auroraHooks_publisher\n    name\n    isAuroraVisible\n    logo {\n      id\n      originalWidth\n      originalHeight\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function h(e){var t=e.clamp,n=void 0===t?1:t,r=e.collection,o=e.maxWidth,l=e.maxHeight,f=e.textScale,g=void 0===f?"S":f,h=e.withTextColorSubtle,E=void 0!==h&&h,v=e.customNameColor,x=e.customLogoImage,b=e.nameTreatment,y=(0,m.I)(),S=(0,u.n)({name:"heading",scale:g,clamp:n,fontWeight:"NORMAL"}),I=function(e,t){return function(n){return{color:t||n.baseColor.text[e]}}}(E?"normal":"dark",v),w=(0,a.Iq)(r)&&void 0!==x?x:r.logo;if(!w||!w.id||b===d.m3.NAME_TREATMENT_TEXT)return i.createElement("span",{className:y([S,I])},r.name||"");var P=w.id,C=w.originalWidth||100,k=w.originalHeight||100;if(o&&C>o){var _=C/o;C=Math.floor(C/_),k=Math.floor(k/_)}if(l&&k>l){var T=k/l;C=Math.floor(C/T),k=Math.floor(k/T)}return i.createElement(s.x,{width:"".concat(C,"px"),height:"".concat(k,"px")},i.createElement(c.UV,{miroId:P,alt:r.name||"Publication logo",width:C,height:k,strategy:p._S.Resample}))}var E=(0,l.Ps)(g(),a.C5);(0,l.Ps)(f())},63163:(e,t,n)=>{"use strict";n.d(t,{NL:()=>ae,XL:()=>ie,JE:()=>ce});var r=n(28655),o=n.n(r),l=n(59713),i=n.n(l),a=n(63038),c=n.n(a),s=n(71439),u=n(67294),m=n(67154),d=n.n(m),p=n(12291),f=n(86773),g=n(93310),h=n(66216),E=n(10074),v=n(90386),x=n(18155),b=n(14646),y=function(e){var t=e.fontConfig,n=e.scale,r=e.tag,o=e.children,l=e.additionalRules,i=e.clamp,a=e.leadingTrim,s=(0,b.I)(),m=r,d={fontFamily:t.family,fontWeight:t.weight},p=(0,x.mu)((function(e){var n=c()(e,1)[0];return t.lineHeight[n]}),n),f=(0,v.M)({fontConfig:t,scale:n}),g=i?(0,h.V)({clamp:i,lineHeight:p}):void 0,y=a?(0,E.KR)({fontConfig:t,scale:n}):void 0;return u.createElement(m,{className:s([d,f,g,y,l])},o)},S=n(31889),I=n(97489);function w(){var e=o()(["\n  fragment CollectionNavItems_collection on Collection {\n    navItems {\n      title\n      url\n      type\n    }\n  }\n"]);return w=function(){return e},e}var P=function(e){var t;return t={listStyleType:"none",margin:0,lineHeight:"40px",whiteSpace:"nowrap",overflowX:"auto",display:"flex",alignItems:"flex-start"},i()(t,I.sm(e),{display:"none"}),i()(t,"marginTop","".concat(20,"px")),i()(t,"paddingTop","".concat(20,"px")),i()(t,"height","".concat(80,"px")),t},C={display:"flex",alignItems:"center",height:"".concat(20,"px"),marginRight:"15px",marginLeft:"15px",":first-child":{marginLeft:0}},k=function(e){return{height:"".concat(20,"px"),minWidth:"1px",backgroundColor:e.baseColor.border.normal}};function _(e){var t=e.navItems,n=e.withTextColorSubtle,r=(0,b.I)(),o=(0,S.F)();return t?u.createElement("ul",{className:r(P)},t.map((function(e,t){return e.url&&u.createElement(u.Fragment,{key:t},"EXTERNAL_LINK_NAV_ITEM"===e.type&&u.createElement("span",{className:r(k)}),u.createElement("li",{className:r(C)},u.createElement(y,{fontConfig:o.newFonts.detail,scale:"S",tag:"span",additionalRules:(l=n?"lighter":"normal",function(e){return{color:e.baseColor.text[l],textTransform:"uppercase",letterSpacing:"1px"}})},u.createElement(g.r,{href:e.url},e.title))));var l}))):null}var T=(0,s.Ps)(w()),R=n(27403),O=n(77355),A=n(96370),B=n(21755),D=n(50458),L=n(68216),M=n(3207);function N(){var e=o()(["\n  fragment CollectionMetabarBottom_collection on Collection {\n    slug\n    ...CollectionNavItems_collection\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...ThemeUtilTintBackground_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}var F=(0,s.Ps)(N(),T,f.GT,L.nf,M.Uv),U=(0,p.$j)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.collection,n=e.currentLocation,r=e.shouldShowCollectionLogo,o=void 0===r||r,l=e.withBorderTop,a=void 0!==l&&l,c=e.withTextColorSubtle,s=void 0!==c&&c,m=e.breakpoint,p=void 0===m?B.j.sm:m,g=t.navItems.slice().length>0;return u.createElement(O.x,d()({backgroundColor:"BACKGROUND",display:g?"block":"none",borderTop:a?"BASE_LIGHTER":"NONE"},i()({},p,{display:"block"})),u.createElement(A.P,null,u.createElement(O.x,{display:"flex",alignItems:"center",height:"54px",overflow:"hidden"},o?u.createElement(O.x,{flexShrink:"0",marginRight:"40px"},u.createElement(R.e,{href:(0,D.WGd)(t,n)},u.createElement(f.VC,{collection:t,maxWidth:300,maxHeight:36,textScale:"S",withTextColorSubtle:s}))):null,u.createElement(O.x,{flexShrink:"1",overflow:"auto"},u.createElement(_,{navItems:t.navItems,withTextColorSubtle:s})))))})),j=n(25885),W=n(28143),H=n(33916),V=n(92071),G=n(25267),Y=n(77241);function K(){var e=o()(["\n  fragment CollectionMetabarTop_collection on Collection {\n    slug\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...MetabarActions_publisher\n  }\n  ","\n  ","\n  ","\n"]);return K=function(){return e},e}var z=(0,s.Ps)(K(),f.GT,L.nf,W.$R),$=(0,p.$j)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.authDomain,n=e.collection,r=e.currentLocation,o=e.post,l=e.shouldShowCollectionLogo,a=e.withMonogramDark,c=e.setIsMetabarLocked,s=e.breakpoint,m=void 0===s?B.j.sm:s,p=e.hideOpenInAppLink,g=void 0!==p&&p;return u.createElement(O.x,{backgroundColor:"BACKGROUND"},u.createElement(A.P,null,u.createElement(O.x,d()({display:"flex",alignItems:"center",height:"".concat(V.Je,"px")},i()({},m,{display:"flex",height:"".concat(V.R2,"px")})),u.createElement(O.x,{display:"flex",alignItems:"center",flexGrow:"1",zIndex:Y.ZP.metabar},u.createElement(R.e,{href:"https://".concat(t,"/"),"aria-label":"Homepage"},u.createElement(j.YR,{contrast:a?"dark":"normal"})),l&&u.createElement(u.Fragment,null,u.createElement(O.x,d()({height:"24px",width:"1px",marginLeft:"15px",marginRight:"14px",borderLeft:"BASE_LIGHT"},i()({},m,{display:"none"}))),u.createElement(O.x,i()({},m,{display:"none"}),u.createElement(R.e,{href:(0,D.WGd)(n,r)},u.createElement(f.VC,{collection:n,maxWidth:240,maxHeight:36,textScale:"M"})))),u.createElement(G.I,null,(function(e){return!g&&e?u.createElement(H.a,{postId:o&&o.id,collectionSlug:n.slug}):u.createElement(u.Fragment,null)}))),u.createElement(O.x,{flexGrow:"0",zIndex:Y.ZP.metabar},u.createElement(W.pJ,{post:o,publisher:n,withoutConversionButton:!0,setIsMetabarLocked:c})))))})),X=n(64093),J=n(98096),Q=n(70194),q=n(18027),Z=n(43487);function ee(){var e=o()(["\n  fragment CollectionMetabar_collection on Collection {\n    id\n    colorBehavior\n    isAuroraVisible\n    favicon {\n      id\n    }\n    ...CollectionMetabarTop_collection\n    ...CollectionMetabarBottom_collection\n    ...collectionDefaultBackgroundTheme_collection\n    ...collectionTintBackgroundTheme_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ee=function(){return e},e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){return V.Je+(e?V.ls:0)}function oe(e){return V.R2+(e?V.ls:0)}function le(e){var t,n=e.post,r=e.collection,o=e.isFixed,l=e.behavior,i=e.shouldShowBottomMetabar,a=void 0===i||i,s=e.hideOpenInAppLink,m=(0,S.F)(),d=u.useState(!1),p=c()(d,2),f=p[0],g=p[1],h=u.useState(!1),E=c()(h,2),v=E[0],x=E[1],b=(0,Z.v9)((function(e){return e.client.isNativeMedium})),y="ACCENT_COLOR"===r.colorBehavior,I=r.navItems&&r.navItems.length>0,w=a&&I,P=!(w||v),C=y||w||v;if(u.useEffect((function(){window.innerWidth<m.breakpoints.md&&x(!0)}),[]),b)return null;var k=a&&u.createElement(J.f,{theme:y?(0,M.jN)(r,m):(0,M.N9)(r,m)},u.createElement(U,{collection:r,withBorderTop:y,withTextColorSubtle:y}));return u.createElement(u.Fragment,null,u.createElement(X.l,{height:re(I&&a),heightSm:oe(!v&&a),isFixed:v||o,isLocked:v||f,behavior:l,marginBottom:0,marginBottomSm:0},u.createElement(q.s,{faviconImageId:null==r||null===(t=r.favicon)||void 0===t?void 0:t.id}),u.createElement(J.f,{theme:C?(0,M.jN)(r,m):(0,M.N9)(r,m)},u.createElement($,{post:n,collection:r,shouldShowCollectionLogo:P,withMonogramDark:C,setIsMetabarLocked:g,hideOpenInAppLink:s})),!v&&k),v&&k)}function ie(e){var t,n=e.post,r=e.collection,o=e.isFixed,l=e.behavior,i=e.shouldShowCollectionLogo,a=void 0===i||i,s=e.shouldShowBottomMetabar,m=void 0===s||s,d=e.hideOpenInAppLink,p=(0,S.F)(),f="ACCENT_COLOR"===r.colorBehavior,g=f?(0,M.jN)(r,p):(0,M.N9)(r,p),h=u.useState(!1),E=c()(h,2),v=E[0],x=E[1],b=f?"#E5E5E5":g.baseColor.border.light,y=u.useState(!1),I=c()(y,2),w=I[0],P=I[1],C=ne(ne({},r),{},{navItems:[]}),k=C.navItems&&C.navItems.length>0,_=m&&(a||k),T=(0,Z.v9)((function(e){return e.client.isNativeMedium}));if(u.useEffect((function(){window.innerWidth<p.breakpoints.md&&x(!0)}),[]),T)return null;var R=function(e){return{borderTop:"1px solid ".concat(e.baseColor.border.lighter),opacity:.4}},A=u.createElement(U,{collection:C,shouldShowCollectionLogo:a,withBorderTop:f,withTextColorSubtle:f,breakpoint:B.j.xs});return u.createElement(u.Fragment,null,u.createElement(X.l,{borderColor:b,height:re(k&&m),heightSm:oe(!v&&a&&m),isFixed:v||o,isLocked:v||w,behavior:l,marginBottom:0,marginBottomSm:0,breakpoint:B.j.xs},u.createElement(q.s,{faviconImageId:null==r||null===(t=r.favicon)||void 0===t?void 0:t.id}),u.createElement(J.f,{theme:g},u.createElement(O.x,{backgroundColor:"BACKGROUND"},u.createElement($,{post:n,collection:C,shouldShowCollectionLogo:a&&(!k||!m),withMonogramDark:!f,setIsMetabarLocked:P,breakpoint:B.j.xs,hideOpenInAppLink:d}),_&&!f?u.createElement(Q.h,null,(function(e){return u.createElement("div",{className:e(R)})})):null,!v&&_&&A))),v&&_&&u.createElement(J.f,{theme:g},u.createElement(O.x,{backgroundColor:"BACKGROUND"},A)))}function ae(e){return e.collection.isAuroraVisible?u.createElement(ie,e):u.createElement(le,e)}var ce=(0,s.Ps)(ee(),z,F,M.Gi,M.VR)},19812:(e,t,n)=>{"use strict";n.d(t,{T:()=>I});var r=n(59713),o=n.n(r),l=n(67294),i=n(33380),a=n(25885),c=n(88264),s=n(52370),u=n(77355),m=n(93310),d=n(98096),p=n(96370),f=n(20113),g=n(87691),h=n(31889),E=n(43487),v=n(14804),x=n(50458);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.authDomain,n=e.productName;return l.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},l.createElement(u.x,{paddingBottom:"8px"},l.createElement(m.r,{href:(0,x.mX)(t)},l.createElement(f.X6,{scale:"S"},"Write a story on ",n,"."))),l.createElement(g.F,{scale:"M"},"If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic."," ",l.createElement(m.r,{href:(0,x.mX)(t),inline:!0,linkStyle:"OBVIOUS"},"Start a blog")))},I=function(e){var t=e.slimFooter,n=(0,E.v9)((function(e){return e.config.authDomain})),r=(0,E.v9)((function(e){return e.config.productName})),o=(0,h.F)(),b=y(y({},o),{},{baseColor:y(y({},o.baseColor),{},{background:{light:v.Uy(.76),normal:v.Uy(.84),dark:v.Uy(.9)},border:{lighter:v.l9(.1),light:v.l9(.2),normal:v.l9(.34),dark:v.l9(.54),darker:v.l9(.84)},fill:{lighter:v.l9(.7),light:v.l9(.8),normal:v.l9(.98),dark:v.l9(.99),darker:v.l9(1)},text:{lighter:v.l9(.7),light:v.l9(.8),normal:v.l9(.98),dark:v.l9(.99),darker:v.l9(1)}})}),I=l.useContext(i.u6).updateWatchedBounds,w=l.useRef(null);return l.useEffect((function(){w&&I("footer",w,{type:"footer"})}),[w]),l.createElement(d.f,{theme:b},l.createElement(u.x,{backgroundColor:"BASE_DARK",padding:"".concat(t?"32px":"60px"," 0"),sm:{padding:"28px 0 12px"},ref:w},l.createElement(p.P,null,t?null:l.createElement(u.x,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},l.createElement(u.x,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},l.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},l.createElement(u.x,{paddingBottom:"8px"},l.createElement(m.r,{href:(0,x.jQk)({authDomain:n,autoplay:!0})},l.createElement(f.X6,{scale:"S"},"Learn more."))),l.createElement(g.F,{scale:"M"},r," is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface."," ",l.createElement(m.r,{href:(0,x.jQk)({authDomain:n,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Learn more"))),l.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},l.createElement(u.x,{paddingBottom:"8px"},l.createElement(m.r,{href:(0,x.a4F)(n)},l.createElement(f.X6,{scale:"S"},"Make ",r," yours."))),l.createElement(g.F,{scale:"M"},"Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox."," ",l.createElement(m.r,{href:(0,x.a4F)(n),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),l.createElement(S,{authDomain:n,productName:r}))),l.createElement(u.x,{display:"flex",flexDirection:"column"},l.createElement(u.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"},alignItems:{xs:"flex-start",sm:"flex-start",md:"center",lg:"center",xl:"center"},justifyContent:"space-between"},l.createElement(m.r,{href:"https://".concat(n,"/"),"aria-label":"Go to homepage"},l.createElement(a.Rv,{fill:v.ix})),l.createElement(u.x,{display:"flex",justifyContent:"space-between",width:"200px",padding:{xs:"20px 0 28px",sm:"20px 0 28px",md:"0",lg:"0",xl:"0"}},l.createElement(g.F,{color:"DARKER",scale:"L"},l.createElement(m.r,{href:(0,x.jQk)({authDomain:n}),inline:!0},"About")),l.createElement(g.F,{color:"DARKER",scale:"L"},l.createElement(m.r,{href:(0,x.Zp)(n),inline:!0},"Write")),l.createElement(g.F,{color:"DARKER",scale:"L"},l.createElement(m.r,{href:(0,x.XpN)(),inline:!0},"Help")),l.createElement(g.F,{color:"DARKER",scale:"L"},l.createElement(m.r,{href:(0,x.xBX)(),inline:!0},"Legal")))),l.createElement(l.Fragment,null,l.createElement(u.x,{display:"none",sm:{display:"flex",marginTop:"0",padding:"20px 0",borderTop:"BASE_DARK"}},l.createElement(g.F,{color:"LIGHTER",scale:"L"},"Get the Medium app")),l.createElement(u.x,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},l.createElement(u.x,{marginRight:"16px"},l.createElement(s.E,{entryPoint:"postPageFooter"})),l.createElement(u.x,null,l.createElement(c.H,{entryPoint:"postPageFooter"}))))))))}},99214:(e,t,n)=>{"use strict";n.d(t,{a:()=>p,i:()=>g});var r=n(63038),o=n.n(r),l=n(28655),i=n.n(l),a=n(71439),c=n(46829),s=n(67294),u=n(6443);function m(){var e=i()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return m=function(){return e},e}function d(){var e=i()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return d=function(){return e},e}var p=(0,a.Ps)(d()),f=(0,a.Ps)(m()),g=function(e){var t=(0,u.H)().value,n=(0,c.useMutation)(f,{variables:{postId:e.id}}),r=o()(n,2),l=r[0],i=r[1].called;s.useEffect((function(){e.isPublished||null==t||!t.id||i||l()}),[t])}},85558:(e,t,n)=>{"use strict";n.d(t,{z:()=>N});var r=n(63038),o=n.n(r),l=n(59713),i=n.n(l),a=n(67294),c=n(25885),s=n(92071),u=n(27403),m=n(28655),d=n.n(m),p=n(71439),f=n(33916),g=n(6443),h=n(26350),E=n(77355);function v(){var e=d()(["\n  fragment StickyMetaMobileActions_publisher on Publisher {\n    __typename\n    ... on Collection {\n      slug\n      ...StickyMetaMobileActions_collection\n    }\n    ... on User {\n      username\n      id\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function x(){var e=d()(["\n  fragment StickyMetaMobileActions_post on Post {\n    id\n    collection {\n      ...StickyMetaMobileActions_collection\n    }\n    pendingCollection {\n      ...StickyMetaMobileActions_collection\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function b(){var e=d()(["\n  fragment StickyMetaMobileActions_collection on Collection {\n    id\n    creator {\n      id\n    }\n  }\n"]);return b=function(){return e},e}var y=function(e){var t=e.post,n=e.publisher,r=(0,g.H)().value,o="Collection"===(null==n?void 0:n.__typename)?n.slug:void 0,l="User"===(null==n?void 0:n.__typename)?n.username:null;return a.createElement(E.x,{display:"none",sm:{display:"flex",alignItems:"center",flexGrow:"1"}},!r&&a.createElement(h.R9,{buttonSize:"REGULAR",buttonStyle:"OBVIOUS",isButton:!0,operation:"register",susiEntry:"nav_reg"},"Get started"),a.createElement(f.a,{collectionSlug:o,postId:null==t?void 0:t.id,removeSpacing:!!r,username:l}))},S=(0,p.Ps)(b()),I=((0,p.Ps)(x(),S),(0,p.Ps)(v(),S),n(38722)),w=n(96370),P=n(14646),C=n(62528),k=n(34135),_=n(97217),T=n(43487),R=n(97489),O=n(37734),A=n(77241),B=n(50458),D=function(e,t,n,r){return function(o){var l;return l={},i()(l,R.sm(o),{borderTop:"1px solid ".concat(o.baseColor.border.lighter),borderBottom:"1px solid ".concat(o.baseColor.border.lighter)}),i()(l,"backgroundColor",o.backgroundColor),i()(l,"left","0"),i()(l,"opacity",e?1:0),i()(l,"position","fixed"),i()(l,"right","0"),i()(l,"top","0"),i()(l,"visibility",t?"hidden":"visible"),i()(l,"zIndex","".concat(A.ZP.metabar)),i()(l,(0,O.nk)("no-preference"),{animation:"".concat(e?n:r," .2s ease-in-out both")}),l}},L={"0%":{opacity:"0",transform:"translateY(-60px)"},"100%":{opacity:"1",transform:"translateY(0px)"}},M={"0%":{opacity:"1",transform:"translateY(0px)"},"100%":{opacity:"0",transform:"translateY(-60px)"}},N=function(e){var t=e.headerScale,n=e.post,r=e.publisher,l=(0,T.v9)((function(e){return e.config.authDomain})),i=(0,P.I)(),m=a.useState(!1),d=o()(m,2),p=d[0],f=d[1],g=a.useState(!0),h=o()(g,2),v=h[0],x=h[1],b=(0,C.o)({slideDownKeyframesName:L}).slideDownKeyframesName,S=(0,C.o)({slideUpKeyframesName:M}).slideUpKeyframesName,R=(0,I.jb)(),O=(t||R.headerScale)===_.w6.HEADER_SCALE_SMALL;return a.useEffect((function(){var e;k.V6.on("scroll_down",(function(){e=O?s.Je+160:s.Je+230,window.pageYOffset>e&&(f(!0),x(!1))})),k.V6.on("scroll_up",(function(){e=O?s.Je+160:s.Je+230,window.pageYOffset<=e&&f(!1)}))})),a.createElement("div",{className:i(D(p,v,b,S))},a.createElement(w.P,{size:"outset"},a.createElement(E.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"},height:"60px",top:"0",width:"100%",zIndex:A.ZP.metabar},a.createElement(E.x,{display:"flex",alignItems:"center",height:"100%"},a.createElement(y,{post:n,publisher:r}),a.createElement(u.e,{href:(0,B.cWJ)(l),"aria-label":"Homepage"},a.createElement(c.YR,null))))))}},10877:(e,t,n)=>{"use strict";n.d(t,{T:()=>O,Q:()=>A});var r=n(28655),o=n.n(r),l=n(63038),i=n.n(l),a=n(71439),c=n(67294),s=n(6443),u=n(12291),m=n(30472),d=n(77355),p=n(47230),f=n(66227),g=n(73917),h=n(93310),E=n(20113),v=n(87691),x=n(78285),b=n(14804);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=c.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),I=c.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),w=c.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),P=c.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const C=function(e){return c.createElement("svg",y({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),S,I,w,P)};var k=(0,u.$j)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide,o="limitedStateInterstitialDialogPopover";return c.createElement(m.V,{isVisible:n,hide:r,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},c.createElement(d.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},c.createElement(d.x,{height:"550px",width:"900px",background:b.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,b.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},c.createElement(d.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},c.createElement(d.x,{paddingBottom:"24px"},c.createElement(C,null)),c.createElement(d.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},c.createElement(E.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),c.createElement(d.x,{padding:"0 0 24px 0"},c.createElement(p.z,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t((0,x.Dx)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),c.createElement(f.B,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return c.createElement(g.J,{ariaId:o,isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return c.createElement(d.x,{padding:"15px 20px",width:"400px"},c.createElement(v.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},c.createElement(d.x,{paddingTop:"10px"},c.createElement(h.r,{"aria-controls":o,"aria-expanded":t?"true":"false",onClick:n},c.createElement("u",null,c.createElement(v.F,{scale:"S"},"Why am I seeing this?")))))})))),c.createElement(d.x,{display:"flex",justifyContent:"center"},c.createElement(v.F,{scale:"M"},"View our"," ",c.createElement(h.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",c.createElement(h.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",c.createElement(h.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),_=n(14646);function T(){var e=o()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return T=function(){return e},e}var R=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function O(e){var t=e.post,n=t.creator,r=t.isLimitedState,o=e.children,l=(0,s.H)().value,a=null==l?void 0:l.id,u=(0,_.I)(),m=c.useState(!1),d=i()(m,2),p=d[0],g=d[1];return c.useEffect((function(){g(!0)}),[]),r&&(n&&n.id)!==a?c.createElement(f.B,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return c.createElement(c.Fragment,null,c.createElement("div",{className:u(R(t))},o),p&&c.createElement(k,{isVisible:t,hide:n}))})):o}var A=(0,a.Ps)(T())},66018:(e,t,n)=>{"use strict";n.d(t,{Lv:()=>d,v:()=>p,QX:()=>f});var r=n(28655),o=n.n(r),l=n(71439),i=n(67294),a=n(12291),c=n(25735),s=n(78285);function u(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}function m(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return m=function(){return e},e}var d=function(e){var t=e.user,n=e.post,r=e.forceLoad,o=void 0!==r&&r,l=(0,a.I0)(),u=(0,c.VB)({name:"can_view_suspended_content",placeholder:!1})||o;return i.useEffect((function(){u&&(t&&t.isSuspended?l((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):n&&n.isSuspended&&l((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==n?void 0:n.id)||""}})))}),[u]),null},p=(0,l.Ps)(m()),f=(0,l.Ps)(u())},34471:(e,t,n)=>{"use strict";n.d(t,{Q:()=>k});var r=n(63038),o=n.n(r),l=n(67294),i=n(12291),a=n(6443),c=n(25550),s=n(18733),u=n(867),m=n(58670),d=n(84157),p=n(54558),f=n(54935),g=n(9999),h=n(17193),E=n(47230),v=n(77355),x=n(87691),b=n(18627),y=n(66411),S=n(97171),I=n(93537),w=n(98223),P="alternate_user_top_banner",C=function(e){var t=e.userSocialLogins,n=(0,f.j)().openModal;return t.facebook||t.google||t.twitter?l.createElement(m.r,{userSocialLogins:t}):l.createElement(u.o,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:P})},userId:t.userId},(function(e){var t=e.handleSubmit;return l.createElement(E.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},k=function(){var e=(0,a.H)().value,t=(0,c.r)().viewerId,n=(0,i.I0)(),r=(0,b.Av)(),u=l.useState(!1),m=o()(u,2),f=m[0],E=m[1],k=l.useState("loading"),_=o()(k,2),T=_[0],R=_[1];return l.useEffect((function(){n((0,w.e6)(!0)),E(!0)}),[]),l.useEffect((function(){"rendered"===T&&n((0,I.T)(!0)),"not_eligible"===T&&n((0,w.e6)(!1))}),[T]),l.createElement(y.cW,{source:{susiEntry:P}},l.createElement(p.o,{postRenderCallback:function(e,n,o){R(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:(0,S.S)(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var o,i=n.showSuggestedAccount,a=n.declineSuggestedAccount,c=n.userSocialLogins;return f&&i&&a&&c?l.createElement(s.N8,null,l.createElement(g.Y,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:(0,S.S)(c),alternateUserSuggestionTargetUserId:c.userId,alternateUserSuggestionSourceUserId:t})}},l.createElement(v.x,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},l.createElement(v.x,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(o=c.userAvatar)||void 0===o?void 0:o.imageId)&&l.createElement(v.x,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},l.createElement(h.Yt,{scale:"S",user:{__typename:"User",id:c.userId,name:c.userAvatar.name,username:c.userAvatar.username,imageId:c.userAvatar.imageId,mediumMemberAt:c.userAvatar.mediumMemberAt,customDomainState:null,hasSubdomain:!1}})),l.createElement(x.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return l.createElement(l.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",l.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,c))),l.createElement(v.x,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},l.createElement(C,{userSocialLogins:c}),l.createElement(v.x,{margin:"0 12px",sm:{margin:"24px 0 0"}},l.createElement(d.G,{declineSuggestedAccount:a,isSocial:!!(c.facebook||c.google||c.twitter)})))))):l.createElement(l.Fragment,null)})))}},78476:(e,t,n)=>{"use strict";n.d(t,{f:()=>b});var r=n(63038),o=n.n(r),l=n(46829),i=n(67294),a=n(25735),c=n(6443),s=n(18733),u=n(9999),m=n(81978),d=n(77355),p=n(47230),f=n(21755),g=n(87691),h=n(18627),E=n(75221),v=n(17583),x=n(50458),b=function(){var e=(0,v.s)()||f.j.lg,t=e===f.j.xs||e===f.j.sm,n=(0,h.Av)(),r=(0,c.H)(),b=r.value,y=r.loading,S=(null==b?void 0:b.id)||"",I=!(null==b||!b.dismissableFlags.includes(E.T3.PP_AWARENESS_BANNER)),w=(0,l.useMutation)(m.a,{variables:{userId:S,flag:E.T3.PP_AWARENESS_BANNER}}),P=o()(w,1)[0],C=(0,a.VB)({name:"show_pp_awareness_banner",placeholder:!1});return null==b||!b.isPartnerProgramEnrolled||y||I||!C?null:i.createElement(s.N8,null,i.createElement(u.Y,{onClose:P,customThemeRule:function(e){return{background:e.baseColor.fill.dark}}},i.createElement(d.x,{alignItems:t?void 0:"center",display:"flex",xs:{flexDirection:"column"},sm:{flexDirection:"column"}},i.createElement(d.x,null,i.createElement(g.F,{color:"WHITE",scale:"M"},i.createElement("strong",null,"New!")," Boost earnings when you refer new members.")),i.createElement(d.x,{paddingLeft:t?"0":"12px",paddingTop:t?"8px":"0"},i.createElement(p.z,{buttonStyle:"STRONG",size:"SMALL",href:(0,x.Ei$)(),onClick:function(){n.event("partnerProgramAwarenessBanner.learnMore.clicked",{targetUserId:S}),P()}},"Learn more")))))}},50103:(e,t,n)=>{"use strict";n.d(t,{b:()=>P});var r=n(87757),o=n.n(r),l=n(48926),i=n.n(l),a=n(63038),c=n.n(a),s=n(67294),u=n(6443),m=n(18733),d=n(54935),p=n(9999),f=n(17193),g=n(77355),h=n(93310),E=n(87691),v=n(18627),x=n(66411),b=n(80872),y=n(77280),S=n(43487),I=n(87498),w="signin_confirmation_banner",P=function(){var e=(0,v.Av)(),t=(0,d.j)().openModal,n=s.useState(!1),r=c()(n,2),l=r[0],a=r[1],P=s.useState(!1),C=c()(P,2),k=C[0],_=C[1],T=s.useState(!0),R=c()(T,2),O=R[0],A=R[1],B=(0,u.H)().value,D=(0,S.p9)((function(e){return e.session.xsrf})),L=(0,y.PM)(),M=(0,x.P7)(L||"").name;return s.useEffect((function(){return a(!0)}),[]),s.useEffect((function(){l&&B&&(e.event("experiment.eligible",{experimentId:"b4152480e71c"}),function(){var e=i()(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.vA)(null==B?void 0:B.id,D);case 2:t=e.sent,A(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),(0,b.oy)(B.id,D))}),[l,B]),s.useEffect((function(){k&&e.event("signInConfirmationBanner.viewed",{})}),[k]),!l||!B||!M||"login"!==M||!B.createdAt||Date.now()-B.createdAt<=5*I.uD||O?null:(k||_(!0),s.createElement(x.cW,{source:{susiEntry:w},extendSource:!0},s.createElement(m.N8,null,s.createElement(p.Y,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},s.createElement(g.x,{display:"flex",alignItems:"center"},s.createElement(g.x,{display:"none",marginRight:"20px",sm:{display:"flex"}},s.createElement(f.Yt,{scale:"S",user:B})),s.createElement(E.F,{color:"DARKER",scale:"M"},"Welcome back. You are signed"," ",B.mediumMemberAt?"into your member account ":"in as ",s.createElement("b",null,B.email),"."," ",s.createElement(h.r,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),t({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:w})},linkStyle:"OBVIOUS"},"Not you?")))))))}},9999:(e,t,n)=>{"use strict";n.d(t,{Y:()=>m});var r=n(67294),o=n(33380),l=n(66227),i=n(96370),a=n(77355),c=n(9935),s=n(14646),u=function(e){return{background:e.baseColor.background.light,borderTopColor:e.baseColor.border.lighter,borderBottomColor:e.baseColor.border.lighter,borderTopWidth:"1px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderTopStyle:"solid"}},m=function(e){var t=e.children,n=e.onClose,m=e.customThemeRule,d=r.useRef(null),p=r.useContext(o.u6).updateWatchedBounds,f=(0,s.I)();return r.createElement(l.B,{initialVisibility:!0},(function(e){var o=e.isVisible,l=e.hide;return o&&r.createElement("div",{className:f(m||u)},r.createElement(i.P,null,r.createElement(a.x,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},t,r.createElement(c.P,{onClick:function(){n&&n(),p("byline",d,{type:"header"}),l()},isPositionAbsolute:!1,size:"REGULAR"}))))}))}},96782:(e,t,n)=>{"use strict";n.d(t,{fY:()=>N,xe:()=>F,WI:()=>M});var r,o=n(28655),l=n.n(o),i=n(63038),a=n.n(i),c=n(46829),s=n(71439),u=n(58875),m=n.n(u),d=n(67294),p=n(6443),f=n(77355),g=n(93310),h=n(87691),E=n(18627),v=n(14646),x=n(21121),b=n(46696),y=function(e){return{backgroundColor:e.baseColor.background.light,borderColor:e.baseColor.border.light,borderRadius:"3px",borderWidth:"1px",alignItems:"center",padding:"25px 20px 25px 20px",marginTop:"",borderStyle:"solid"}},S=function(){var e=(0,v.I)();return d.createElement("div",{className:e([P,y])},d.createElement(f.x,{textAlign:"center"},d.createElement(f.x,null,"1000 x 1000"),d.createElement(f.x,null,"pixels")))},I=function(){return d.createElement(f.x,{marginRight:"5px",display:"inline-block"},d.createElement(h.F,{scale:"S",color:"ERROR"},"That file doesn't meet our requirements. Try another."))},w=function(){return d.createElement(f.x,{marginTop:"8px"},d.createElement(f.x,{marginRight:"5px",display:"inline-block"},d.createElement(h.F,{scale:"S",color:"ERROR"},"We couldn't process your request.")),d.createElement(f.x,{marginRight:"5px",display:"inline-block"},d.createElement(h.F,{scale:"S"},"Try again, or"," ",d.createElement(g.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us"},"search our help center for support."))))};!function(e){e.Success="success",e.UploadError="uploadError",e.InvalidError="invalidError"}(r||(r={}));var P={height:"132px",width:"132px",display:"flex",flexDirection:"row",justifyContent:"center"},C=function(e){var t=e.setImageId,n=e.initialImageId,o=e.source,l=(0,v.I)(),i=(0,E.Av)(),c=(0,p.H)().value,s=d.useState({imageId:n,imageWidth:0,imageHeight:0}),u=a()(s,2),m=u[0],h=u[1],y=d.useState(null),C=a()(y,2),k=C[0],_=C[1],T=function(e){_(e),i.event("user.updateAvatarResult",{userId:null==c?void 0:c.id,source:o,uploadResult:e})},R=(0,x.JA)((function(e,n,o){var l=n.height,i=n.width,a=e.value.fileId;h({imageId:a,imageHeight:l,imageWidth:i}),l<parseInt("1000px",10)||i<parseInt("1000px",10)?(T(r.InvalidError),D()):(t(a),T(r.Success),o())}),(function(){T(r.UploadError)}),(function(){T(r.InvalidError)})),O=R.inputRef,A=R.fireClick,B=function(){i.event("user.updateAvatarClick",{userId:null==c?void 0:c.id,source:o,hasImage:!!m.imageId}),A()},D=function(){h({imageId:"",imageWidth:0,imageHeight:0}),t("")},L=d.useCallback((function(){return d.createElement(f.x,{marginBottom:"10px"},d.createElement("input",{type:"file","aria-hidden":"true",ref:O,className:l({display:"none"})}),d.createElement(g.r,{inline:!0,linkStyle:"OBVIOUS",onClick:B},"Add photo"))}),[l,B,O]),M=d.useCallback((function(){return d.createElement("div",{className:l([P])},d.createElement("div",{className:l((function(){return{backgroundImage:"url(".concat((0,b.W6)({miroId:m.imageId||"",width:m.imageWidth||0,height:m.imageHeight||0}),")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:"100%",width:"100%",borderRadius:"3px",display:"flex",flexDirection:"row"}}))}))}),[l,m]),N=d.useCallback((function(){return d.createElement(f.x,{display:"inline-block",marginBottom:"15px"},m.imageId?d.createElement(M,null):d.createElement(S,null))}),[m]);return d.createElement(f.x,{display:"flex",flexDirection:"column",maxWidth:"132px"},d.createElement(f.x,{display:"inline-block",float:"right"},d.createElement(N,null)),d.createElement(L,null),k===r.UploadError&&d.createElement(w,null),k===r.InvalidError&&d.createElement(I,null))},k=n(31708),_=function(e){var t=e.label,n=e.onChangeFn,r=e.onBlurFn,o=e.value,l=e.errorMessage,i=e.characterCountLimit;return d.createElement(d.Fragment,null,d.createElement(f.x,{marginBottom:"15px",textAlign:"left"},d.createElement(h.F,{scale:"L",tag:"h4"},t)),d.createElement(k.n,{scale:"L",onChange:n,value:o,errorMessage:l,onBlur:r,ariaLabel:t,characterCountLimit:i}))},T=n(1383),R=n(62896);function O(){var e=l()(["\n  mutation userCompleteProfileMutation(\n    $userId: ID!\n    $name: String!\n    $bio: String!\n    $imageId: String!\n  ) {\n    userCompleteProfile(userId: $userId, name: $name, bio: $bio, imageId: $imageId)\n  }\n"]);return O=function(){return e},e}function A(){var e=l()(["\n  fragment UserCompleteProfileDialog_user on User {\n    id\n    name\n    bio\n    imageId\n    hasCompletedProfile\n  }\n"]);return A=function(){return e},e}var B={min:3,max:50,message:"Please try another name that’s between 3 and 50 characters."},D={min:10,max:160,message:"Please try another description that’s between 10 and 160 characters."},L=function(e,t){var n=e.min,r=e.max,o=e.message;return function(e){var l=e.target.value;t(l.length<n||l.length>r?o:void 0)}},M=function(e){var t=(0,p.H)().value;return e?{shouldShowDialog:m().canUseDOM&&!(0,R.ic)(navigator.userAgent)&&(null==t?void 0:t.id)===e.id}:{shouldShowDialog:!1}},N=function(e){var t=e.setHasCompletedProfile,n=e.user,r=e.confirmText,o=void 0===r?"Continue":r,l=(0,E.Av)(),i=(0,p.H)().value,c=d.useState(!1),s=a()(c,2),u=s[0],m=s[1],g=U(),v=a()(g,1)[0],x=d.useState((null==n?void 0:n.imageId)||""),b=a()(x,2),y=b[0],S=b[1],I=d.useState((null==n?void 0:n.name)||""),w=a()(I,2),P=w[0],k=w[1],R=d.useState((null==n?void 0:n.bio)||""),O=a()(R,2),A=O[0],N=O[1],F=d.useState(),j=a()(F,2),W=j[0],H=j[1],V=d.useState(),G=a()(V,2),Y=G[0],K=G[1],z=L(B,H),$=L(D,K),X=d.useCallback((function(){i&&(m(!0),l.event("user.completedProfile",{userId:i.id,changedName:(null==n?void 0:n.name)!==P,changedBio:(null==n?void 0:n.bio)!==A,changedImage:(null==n?void 0:n.imageId)!==y,hasName:!!P,hasBio:!!A,hasImage:!!y}),v({variables:{userId:i.id,name:P,bio:A,imageId:y}}).then((function(){m(!1),t(!0)})))}),[i,v,m,n,P,A,y]),J=M(n).shouldShowDialog;return d.useEffect((function(){J&&l.event("user.presentedCompleteProfileDialog",{userId:null==i?void 0:i.id})}),[J]),J?d.createElement(d.Fragment,null,d.createElement(T.Q,{confirmText:o,titleText:"Complete your profile",isDestructiveAction:!1,onConfirm:X,isVisible:!0,hide:function(){},withCloseButton:!1,showCancelButton:!1,disableConfirm:u},d.createElement(h.F,{scale:"L",color:"DARKER"},"Readers like learning a bit more about their writers"),d.createElement(f.x,{marginTop:"48px",marginBottom:"28px",display:"flex",flexDirection:"row"},d.createElement(f.x,{overflow:"visible",maxHeight:"200px"},d.createElement(C,{setImageId:S,initialImageId:y,source:"userCompleteProfileDialog"})),d.createElement(f.x,{marginLeft:"48px",textAlign:"left"},d.createElement(f.x,{key:"name"},d.createElement(_,{label:"Full name",onChangeFn:function(e){return k(e.target.value)},onBlurFn:z,value:P,errorMessage:W})),d.createElement(f.x,{key:"bio",marginTop:"40px"},d.createElement(_,{label:"Bio (optional, max 160 characters)",onChangeFn:function(e){return N(e.target.value)},onBlurFn:$,value:A,errorMessage:Y,characterCountLimit:160})))))):null},F=(0,s.Ps)(A()),U=function(){return(0,c.useMutation)(j)},j=(0,s.Ps)(O())},62685:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,o:()=>I});var r,o=n(67154),l=n.n(o),i=n(63038),a=n.n(i),c=n(6479),s=n.n(c),u=n(46829),m=n(67294),d=n(98863),p=n(6443),f=n(81978),g=n(77355),h=n(93310),E=n(73917),v=n(87691),x=n(29746),b=n(18627),y=n(14646);!function(e){e.CTA="CTA",e.DISMISSED="DISMISSED"}(r||(r={}));var S=function(e){var t=e.children,n=e.flag,o=e.text,i=e.renderFn,c=e.viewer,d=e.padding,p=void 0===d?16:d,S=e.placement,I=e.darkTheme,w=e.dismissText,P=void 0===w?"Got it":w,C=e.onDismiss,k=e.preventParentClick,_=s()(e,["children","flag","text","renderFn","viewer","padding","placement","darkTheme","dismissText","onDismiss","preventParentClick"]),T=(0,b.Av)(),R=m.useState(!1),O=a()(R,2),A=O[0],B=O[1],D=(0,u.useMutation)(f.a,{variables:{userId:c.id,flag:n}}),L=a()(D,1)[0],M=(0,y.I)(),N=m.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DISMISSED;B(!1),L(),C&&C(),T.event("user.dismissedPopover",{flag:n,action:e})}),[A,C]);m.useEffect((function(){return B(!0)}),[]);var F=m.useCallback((function(){return m.createElement(g.x,{minWidth:"200px",padding:(0,x.a)(p)},m.createElement(v.F,{scale:"S",color:"WHITE"},o),m.createElement(g.x,{marginTop:"8px"},m.createElement(v.F,{scale:"S",color:I?"WHITE":void 0},m.createElement(h.r,{onClick:function(e){k&&e.preventDefault(),N(r.DISMISSED)}},m.createElement("span",{className:M(E.u)},P)))))}),[N,p,o,k]);return m.createElement(E.J,l()({disablePortalOverlay:!0,hide:N,isVisible:A,popoverRenderFn:i?i(N):F,darkTheme:!0,placement:S},_),t)},I=function(e){var t=e.children,n=e.flag,r=e.isVisible,o=void 0===r||r,i=s()(e,["children","flag","isVisible"]),a=(0,d.f)().isWorkingPreview,c=(0,p.H)().value;return a||null!=c&&c.dismissableFlags.includes(n)||!c||!o?t:m.createElement(S,l()({flag:n,viewer:c},i),t)}},81281:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var r=n(67294),o=n(14646),l=function(e){var t=e.styleRules,n=(0,o.I)();return r.createElement("hr",{className:n(t),"aria-hidden":"true"})}},65566:(e,t,n)=>{"use strict";n.d(t,{gc:()=>vt,De:()=>bt,m6:()=>yt});var r=n(28655),o=n.n(r),l=n(67154),i=n.n(l),a=n(59713),c=n.n(a),s=n(63038),u=n.n(s),m=n(71439),d=n(67294),p=n(12291),f=n(33380),g=n(60918),h=n(8851),E=n(18702),v=n(63163),x=n(19812),b=n(43432),y=n(64093),S=n(36370),I=n(99214),w=n(90833),P=n(6443),C=n(67701),k=n(43487),_=n(50458);function T(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return T=function(){return e},e}var R=function(e){var t=e.children,n=e.post,r=(0,k.v9)((function(e){return e.config.authDomain})),o=(0,P.H)().value,l=n.collection,i=n.creator&&o&&n.creator.id===o.id,a=(0,C.gY)(l).viewerEdge;return!n.isPublished&&(!l&&i||i&&null!=a&&a.canEditOwnPosts||null!=a&&a.isEditor||null!=a&&a.canEditPosts)?d.createElement(w.l,{to:(0,_.d0A)(r,n.id)}):d.createElement(d.Fragment,null,t)},O=(0,m.Ps)(T()),A=n(53138),B=n(98930),D=n(65197),L=n(6455),M=n(80439),N=n(25267),F=n(98550),U=n(37597),j=n(77355),W=n(93310),H=n(47230),V=n(30472),G=n(9935),Y=n(87691),K=n(8126),z=n(34135),$=n(97217),X=n(78285),J=n(77280),Q=n(14804),q=n(95445),Z=n(78870);function ee(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n  }\n"]);return ee=function(){return e},e}function te(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return te=function(){return e},e}function ne(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    inResponseToCatalogResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n    ...SharePostButton_post\n  }\n  ","\n"]);return ne=function(){return e},e}var re=function(){return d.createElement(j.x,null,d.createElement(W.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,_.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var oe,le=(0,m.Ps)(ne(),U.o),ie=(0,m.Ps)(te(),le),ae=function(e){var t=e.url,n=e.label,r=e.post,o={postId:null==r?void 0:r.id,source:"post_publish_dialog"};return d.createElement(q.b,i()({url:t},o),(function(e){return d.createElement(j.x,{marginBottom:"8px"},d.createElement(H.z,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},d.createElement(j.x,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},ce=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return d.createElement(j.x,{display:"flex",flexDirection:"column",alignItems:"center"},d.createElement(Y.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),d.createElement(j.x,{marginTop:"20px"},!n&&d.createElement(d.Fragment,null,d.createElement(j.x,{marginBottom:"8px"},d.createElement(U.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),d.createElement(j.x,{marginBottom:"8px"},d.createElement(U.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),d.createElement(j.x,{marginBottom:"8px"},d.createElement(U.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),d.createElement(ae,{url:r,label:"Copy story link",post:t})))},se=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,o=e.post,l=o.id,i=o.visibility,a=o.curationEligibleAt,c=o.mediumUrl,s=o.isNewsletter,u=o.isPublishToEmail,m=o.isMarkedPaywallOnly,p=o.creator,f=(0,F.T)(o),g=f.viewerEdge,h=f.loading,E="UNLISTED"===i,v=!!a,x=(null==g?void 0:g.creatorPartnerProgramEnrollmentStatus)===$.iR.ENROLLED,b=null==g?void 0:g.shareKey,y=(0,k.v9)((function(e){return e.config.productName})),S="Your story is published!";return u&&t===(null==p?void 0:p.id)?S="Your story has been published and sent!":s&&(S="Your newsletter is on its way!"),h?null:d.createElement(V.V,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},d.createElement(j.x,{background:Q.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,Q.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},d.createElement(j.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},d.createElement(j.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},d.createElement(K.F1,{scale:"L",tag:"h3"},S),d.createElement(j.x,{maxWidth:"520px",marginTop:"20px"},d.createElement(Y.F,{color:"DARKER",scale:"L"},function(e,t,n,r,o,l){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):d.createElement(d.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",d.createElement(W.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,l):e?"Your unlisted story will not appear publicly on ".concat(l,", but you can still share it."):o?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?d.createElement(d.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",l,"’s metered paywall.",d.createElement(re,null)):d.createElement(d.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",l,"’s metered paywall.",d.createElement(re,null)):d.createElement(d.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",l," Partner Program."," ",d.createElement(W.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(E,v,x,s,null!=m&&m,y))),d.createElement(j.x,{paddingTop:"20px"},v&&!E&&c&&b&&d.createElement(ae,{url:(0,Z.Rk)((0,_.jVf)(o),{sk:b}),label:"Copy Friend Link",post:o})),d.createElement(j.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),l&&c&&d.createElement(ce,{post:o,isUnlisted:E,postPath:(0,_.jVf)(o)})),d.createElement(G.P,{onClick:r,size:"LARGE"})))};!function(e){e.initial="initial",e.repub="repub"}(oe||(oe={}));var ue=function(e){var t=e.post,n=d.useState(!1),r=u()(n,2),o=r[0],l=r[1],i=d.useCallback((function(){return l(!1)}),[l]),a=(0,p.I0)(),c=(0,J.Wd)("postPublishedType"),s=(0,C.gY)(t.collection).viewerEdge;d.useEffect((function(){switch(c){case oe.initial:l(!0);break;case oe.repub:a((0,X.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[c]);var m=d.useState(!1),f=u()(m,2),g=f[0],h=f[1];return g?d.createElement(N.I,null,(function(e){return null!=e&&e.id&&(e.id===(t.creator&&t.creator.id)||t.collection&&null!=s&&s.isEditor)?d.createElement(M.AE,{ssr:!1,query:ie,variables:{postId:t.id}},(function(t){var n=t.loading,r=t.data,l=(r=void 0===r?{}:r).post;return n||!l||l.inResponseToPostResult||l.inResponseToCatalogResult?null:d.createElement(se,{isVisible:o,hide:i,post:l,viewerId:e.id})})):null})):(z.V6.on("load",(function(){return h(!0)})),null)},me=(0,m.Ps)(ee()),de=n(46829),pe=n(50008),fe=n.n(pe),ge=n(27693),he=n(86122),Ee=n(14646),ve=d.forwardRef((function(e,t){var n,r=e.children,o=d.useRef(null),l=d.useRef(null),i=d.useContext(f.u6).watchedBounds,a=d.useState(!0),c=u()(a,2),s=c[0],m=c[1],p=d.useState(0),g=u()(p,2),h=g[0],E=g[1],v=function(e){var t,n="object"===fe()(e)?null==e?void 0:e.current:null,r=null==n?void 0:n.getBoundingClientRect();return 100+(null!==(t=null==r?void 0:r.top)&&void 0!==t?t:0)}(t),x=null===(n=o.current)||void 0===n?void 0:n.offsetHeight,b=(0,Ee.I)(),y=.45*window.innerHeight-20,S=x?window.innerHeight-x-20:y-20,I=d.useCallback((function(){var e;!function(e,t,n,r){e.current&&n((0,ge.b2)(e.current,t,["image","bgimage","footer","byline","title","header"],{threshold:10}))}(o,i,m);var t=(0,he.Ui)(h,v,null===(e=o.current)||void 0===e?void 0:e.clientHeight);t!==h&&E(t);var n=1320,r=window.innerWidth-n;null!=l&&l.current&&(window.innerWidth>=n&&(l.current.style.right="".concat(r,"px")),window.innerWidth<n&&(l.current.style.right="0px"))}),[i,h,v]);d.useEffect((function(){I(),window.scroll(0,2),window.scroll(0,0)}),[]);var w="object"===fe()(t)?t:null;d.useEffect((0,ge.hE)(I,null==w?void 0:w.current),[I,null==w?void 0:w.current]);var P=s;return d.createElement("div",{className:b({minWidth:"300px",position:"fixed",right:"0"}),ref:l},d.createElement(ge.HX,{sidebarRef:o,scrollableRef:t,visible:P,topOffset:S,isFixed:!0,extraWide:!0},d.createElement(j.x,null,r)))})),xe=n(57189),be=n(9273),ye=n(66411),Se=n(18305);function Ie(){var e=o()(["\n  query FetchRecirc($postId: String) {\n    recirc(postId: $postId) {\n      items {\n        ... on RexRecircItem {\n          post {\n            id\n            ...ReadNextPostCard_post\n            ...PostPresentationTracker_post\n          }\n          feedId\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Ie=function(){return e},e}var we=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},Pe=function(e){var t,n=e.postId,r=(0,de.useQuery)(Ce,{variables:{postId:n}}),o=r.data,l=r.loading,i=r.error,a=(0,Ee.I)(),c=null==o||null===(t=o.recirc)||void 0===t?void 0:t.items;if(i||l||null==c||!c.length)return null;var s=c.slice(0,4);return d.createElement(ve,null,d.createElement(j.x,null,d.createElement(Y.F,{scale:"M",color:"LIGHTER"},d.createElement("strong",{className:a(we)},"Related")),d.createElement(j.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},s.map((function(e,t){return null!=e&&e.post?d.createElement(ye.cW,{source:{name:"read_next_recirc",index:t,feedId:e.feedId||void 0},key:"post-page-read-next-recirc".concat(n,"-").concat(t)},d.createElement(Se.o,{post:e.post,presentationContext:"POST_PREVIEW"},d.createElement(xe.N,{post:e.post}))):null})))))},Ce=(0,m.Ps)(Ie(),be.Q,Se.h);function ke(){var e=o()(["\n  query FetchRecircLO($postId: String!) {\n    recirc(postId: $postId) {\n      items {\n        ... on RexRecircItem {\n          post {\n            id\n            ...ReadNextPostCard_post\n            ...PostPresentationTracker_post\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return ke=function(){return e},e}var _e=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},Te=function(e){var t,n=e.postId,r=(0,de.useQuery)(Re,{variables:{postId:n}}),o=r.data,l=r.loading,i=r.error,a=(0,Ee.I)(),c=null==o||null===(t=o.recirc)||void 0===t?void 0:t.items;if(i||l||null==c||!c.length)return null;var s=c.slice(0,4);return d.createElement(ve,null,d.createElement(j.x,null,d.createElement(Y.F,{scale:"M",color:"LIGHTER"},d.createElement("strong",{className:a(_e)},"Related")),d.createElement(j.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},s.map((function(e,t){return null!=e&&e.post?d.createElement(ye.cW,{source:{name:"read_next_recirc",index:t},key:"post-page-read-next-recirc-lo-".concat(n,"-").concat(t)},d.createElement(Se.o,{post:e.post,presentationContext:"POST_PREVIEW"},d.createElement(xe.N,{post:e.post,shouldDisplayTopic:!1}))):null})))))},Re=(0,m.Ps)(ke(),be.Q,Se.h),Oe=n(43220),Ae=n(54878),Be=n(90964);function De(){var e=o()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return De=function(){return e},e}var Le=function(e){var t=e.children,n=e.post,r=n.collection||n.creator,o=(0,Oe.GT)(r),l=n.customStyleSheet;return o?d.createElement(Ae.G8,{customStyleSheet:l,publisher:r},t):d.createElement(Ae.G8,{customStyleSheet:null,publisher:r},d.createElement(Be.r,null,t))},Me=(0,m.Ps)(De(),Ae.Kc,Ae.Ps,Oe.C5),Ne=n(98765),Fe=n(15045),Ue=n(7834),je=n(95538),We=n(15876),He=n(59142),Ve=n(89787),Ge=n(96277),Ye=n(85558),Ke=n(27442),ze=function(e){var t=e.children,n=e.rule,r=(0,Ee.I)(),o=n?r(n):"";return o?d.createElement("div",{className:o},t):d.createElement(d.Fragment,null,t)},$e=n(74954),Xe=n(92258),Je=n(21417),Qe=n(69937),qe=n(75880),Ze=n(10877),et=n(66018),tt=n(34471),nt=n(78476),rt=n(50103),ot=n(96782),lt=n(68821),it=n(99849),at=n(66795),ct=n(33108),st=n(51213),ut=n(54957),mt=n(32342);function dt(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      customStyleSheet {\n        id\n        ...PostSidebar_customStyleSheet\n      }\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserCompleteProfileDialog_user\n      ...auroraHooks_publisher\n      ...ExpandablePost_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebar_customStyleSheet\n    }\n    firstPublishedAt\n    isIndexable\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...Wall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return dt=function(){return e},e}function pt(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...Wall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return pt=function(){return e},e}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=function(e){return(0,$e.fl)(null==e?void 0:e.postBody)},Et=function(){return null};function vt(e){var t,n,r,o,l,i=e.meteringInfo,a=e.post,c=a.isPublished,s=a.isLocked,m=a.isShortform,g=a.content,E=a.collection,v=a.creator,b=(0,p.I0)(),y=(0,J.PM)(),w=(0,k.v9)((function(e){return e.navigation.referrer})),_=(0,qe.Pd)(v),T=_.viewerEdge,O=_.loading,D=(0,C.gY)(a.collection).loading,M=(0,Qe.l)(null===(t=a.primaryTopic)||void 0===t?void 0:t.id).loading,N=D||O||M,F=d.useRef(null),U=(0,P.H)().value,j=!!U,W=(E||{}).googleAnalyticsId,H=(g||{}).isLockedPreviewOnly,V=W?[W]:null;(0,h.t)({ids:V}),(0,lt.V)(F,a),(0,it.t)(j,F,a),(0,I.i)(a);var G=(0,Oe.GT)(E||v),Y=m&&G,K=(0,st.D)(G),z=(0,ye.P7)(y||"").dimension,$=!("digest.reader"!==(void 0===z?"":z))&&!H&&j&&!(null!=T&&T.isUser)&&!(null!=T&&T.isFollowing)&&((null==T?void 0:T.readPostsCount)||0)>=3,X=d.useState($),Q=u()(X,2),q=Q[0],Z=Q[1];d.useEffect((function(){Z($)}),[]);var ee=(0,A.Dj)(a,{shouldInsertCreatorPromo:q});(0,He.t)({post:a,meteringInfo:i}),(0,ct.T)(a.customStyleSheet);var te=(0,J.Wd)("readmore");d.useEffect((function(){var e;if(te){var t=document.getElementById(mt.W);if(t){var n=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(t.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:n?void 0:"smooth"})}))}}}),[te]);var ne=d.useState(null==v?void 0:v.hasCompletedProfile),re=u()(ne,2),oe=re[0],le=re[1],ie=(0,ot.WI)(v).shouldShowDialog&&!oe&&(!(null!=v&&v.name)||!(null!=v&&v.bio)||!(null!=v&&v.imageId));K!==G&&b((0,at.t)(G));var ae=s?{className:"meteredContent"}:{},ce=E&&a.customStyleSheet&&null!=a&&null!==(n=a.creator)&&void 0!==n&&null!==(r=n.customStyleSheet)&&void 0!==r&&r.blogroll?gt(gt({},a.customStyleSheet),{},{blogroll:null==a||null===(o=a.creator)||void 0===o||null===(l=o.customStyleSheet)||void 0===l?void 0:l.blogroll}):a.customStyleSheet,se=(0,k.v9)((function(e){return e.client.hydrated})),me=(0,ut.bi)(w,y)&&se,de=null==y?void 0:y.includes("read_next_recirc"),pe=d.useState(!1),fe=u()(pe,2),ge=fe[0],he=fe[1],Ee=me||de;return d.createElement(d.Fragment,null,d.createElement(R,{post:a},d.createElement(L.h,{post:a}),d.createElement(et.Lv,{post:a,user:v,forceLoad:(null==U?void 0:U.id)===(null==v?void 0:v.id)}),d.createElement(Le,{post:a},d.createElement(Ke.f,{customStyleSheet:a.customStyleSheet},G&&d.createElement(nt.f,null),d.createElement(xt,{post:a}),!G&&d.createElement(nt.f,null),d.createElement(Xe.k,{post:a},d.createElement(ze,{rule:ht(a.customStyleSheet)},d.createElement(f.Am,null,d.createElement(tt.Q,null),d.createElement(rt.b,null),d.createElement("article",ae,d.createElement(B.m,{post:a,meteringInfo:i}),d.createElement(Ze.T,{post:a},d.createElement(Ue.b,{isAuroraPostPageEnabled:G,post:a,postBodyInserts:ee,ref:F,shouldHideHighlightAnnotations:Ee}))),!H&&!!c&&!Y&&d.createElement(Ne.PostSidebar,{customStyleSheet:ce,post:a,extraWide:!0}),Ee&&j&&d.createElement(Pe,{postId:a.id}),d.createElement(Je.b,{name:"enable_recirc_reboot_lo",placeholder:Et},(function(e){return e&&Ee&&!ge&&!j?d.createElement(Te,{postId:a.id}):null})),d.createElement(S.cu,{post:a,meteringInfo:i,setIsLORegWallVisible:he}),!H&&d.createElement(We.zX,{post:a})))),d.createElement(ue,{post:a}),!!c&&!N&&d.createElement(f.Am,null,d.createElement(x.T,{slimFooter:G}))))),ie&&!!v&&!a.collection&&d.createElement(ot.fY,{user:v,confirmText:"Done",setHasCompletedProfile:le}))}var xt=function(e){var t,n,r=e.post,o=r.collection,l=r.content,a=o||r.creator,c=(0,Oe.GT)(a),s=l.bodyModel&&l.bodyModel.paragraphs[0],u=s&&s.type===$.NJ.IMG&&s.layout===$.ms.FULL_WIDTH;if(a&&c)return d.createElement(j.x,{marginBottom:u?"0":"36px",sm:{marginBottom:u?"0":"20px"}},d.createElement(Ge.Go,{publisher:a,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),d.createElement(Ye.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:a}));var m={behavior:y.W.Aggressive,isFixed:!1,post:r};if(o)return d.createElement(v.NL,i()({},m,{collection:o}));var p=r.layerCake,f=r.primaryTopic,g=p&&(1===p||2===p||3===p),h=g?f:null;return d.createElement(b.kw,i()({},m,{isMonogramOnly:!g,marginBottom:0,marginBottomSm:0,topic:h}))},bt=(0,m.Ps)(pt(),D.X,S.Y6,E.PI),yt=(0,m.Ps)(dt(),I.a,v.JE,Ke.w,je.U,Ze.Q,O,b.v7,Ge.aU,Ge.Mv,Ne.PostSidebar_customStyleSheet,S.rU,A.Cs,We.F9,D.Z,g.i,me,it.W,Me,lt.k,Ne.PostSidebar_post,$e._3,et.QX,et.v,ot.xe,Oe.C5,E.ir,Fe.tA,Ve.O9)},33108:(e,t,n)=>{"use strict";n.d(t,{T:()=>l});var r=n(67294),o=n(76544),l=function(e){var t=r.useCallback((function(){e&&Array.from(document.getElementsByTagName("iframe")).forEach((function(t){null!=t&&t.contentWindow&&t.contentWindow.postMessage(JSON.stringify({context:"medium.customStyleSheet",customStyleSheet:e}),"*")}))}),[e]);(0,o.r)("medium.getCustomStyleSheet",t)}},76544:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(67294),o=function(e,t){r.useEffect((function(){if("undefined"!=typeof window){var n=function(n){if(n.data){var r,o;try{o=JSON.parse(n.data)}catch(e){}(null===(r=o)||void 0===r?void 0:r.context)===e&&t(o)}};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}}),[t,e])}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/39483.c1a1cde6.chunk.js.map